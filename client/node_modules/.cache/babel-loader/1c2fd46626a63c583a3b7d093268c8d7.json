{"ast":null,"code":"var _jsxFileName = \"/home/hamdi/Desktop/e-commerce/src/App.js\";\nimport React, { useEffect } from 'react';\nimport './App.css';\nimport { Switch, Route, BrowserRouter, Redirect } from 'react-router-dom';\nimport ShopPage from './pages/shop/shop.component';\nimport CheckoutPage from \"./pages/checkout/checkout.component\";\nimport HomePage from './pages/homepage/homepage.component';\nimport Header from './components/header/header.compoenets';\nimport SignInAndSignUp from './pages/sign-in-and-sign-up/sign-in-and-sign-up.component';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from \"reselect\";\nimport { selectCurrentUser } from \"./redux/user/user.selectors\";\nimport { checkUserSession } from \"./redux/user/user.actions\";\n\nconst App = ({\n  currentUser,\n  checkUserSession\n}) => {\n  //unsubscribeFromAuth = null;\n  useEffect(() => {\n    checkUserSession();\n  }, [checkUserSession]); // componentDidMount() {\n  //   const {checkUserSession} = this.props;\n  //   checkUserSession();\n  //   // this.unsubscribeFromAuth = auth.onAuthStateChanged( async (userAuth) => {\n  //   //   //this.setState({ currentUser: user});\n  //   //   if(userAuth) {\n  //   //     const userRef = await createUserProfileDocument(userAuth);\n  //   //     userRef.onSnapshot(snapShot => {\n  //   //       setCurrentUser({\n  //   //         id: snapShot.id,\n  //   //         ...snapShot.data()\n  //   //       })\n  //   //     });\n  //   //   } else {\n  //   //     setCurrentUser( userAuth );\n  //   //   }\n  //   //   // Data to Firebase\n  //   //   // addCollectionAndDocuments('collections', collectionsArray.map(({ title, items }) => ({ title, items })))\n  //   // })\n  // }\n  // componentWillUnmount() {\n  //   this.unsubscribeFromAuth();\n  // }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(BrowserRouter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: HomePage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/shop\",\n    component: ShopPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/checkout\",\n    component: CheckoutPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/signin\",\n    render: () => currentUser ? /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 15\n      }\n    }) : /*#__PURE__*/React.createElement(SignInAndSignUp, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 15\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }))));\n};\n\nconst mapStateToProps = createStructuredSelector({\n  currentUser: selectCurrentUser\n});\n\nconst mapDispatchToProps = dispatch => ({\n  checkUserSession: () => dispatch(checkUserSession())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","map":{"version":3,"sources":["/home/hamdi/Desktop/e-commerce/src/App.js"],"names":["React","useEffect","Switch","Route","BrowserRouter","Redirect","ShopPage","CheckoutPage","HomePage","Header","SignInAndSignUp","connect","createStructuredSelector","selectCurrentUser","checkUserSession","App","currentUser","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAO,WAAP;AACA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,aAAxB,EAAuCC,QAAvC,QAAuD,kBAAvD;AAEA,OAAOC,QAAP,MAAqB,6BAArB;AACA,OAAQC,YAAR,MAA2B,qCAA3B;AACA,OAAOC,QAAP,MAAqB,qCAArB;AAEA,OAAQC,MAAR,MAAqB,uCAArB;AACA,OAAOC,eAAP,MAA4B,2DAA5B;AAGA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,wBAAT,QAAyC,UAAzC;AACA,SAASC,iBAAT,QAAkC,6BAAlC;AACA,SAASC,gBAAT,QAAiC,2BAAjC;;AAEA,MAAMC,GAAG,GAAG,CAAC;AAACC,EAAAA,WAAD;AAAeF,EAAAA;AAAf,CAAD,KAAuC;AAEjD;AAEAb,EAAAA,SAAS,CAAC,MAAM;AACda,IAAAA,gBAAgB;AACjB,GAFQ,EAEN,CAACA,gBAAD,CAFM,CAAT,CAJiD,CAQjD;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;;AAGE,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,eAEA,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,GAAlB;AAAsB,IAAA,SAAS,EAAEN,QAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,KAAD;AAAQ,IAAA,IAAI,EAAC,OAAb;AAAqB,IAAA,SAAS,EAAEF,QAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGE,oBAAC,KAAD;AAAQ,IAAA,IAAI,EAAC,WAAb;AAAyB,IAAA,SAAS,EAAEC,YAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,eAIE,oBAAC,KAAD;AAAQ,IAAA,KAAK,MAAb;AAAc,IAAA,IAAI,EAAC,SAAnB;AAA6B,IAAA,MAAM,EAAI,MACrCS,WAAW,gBACT,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADS,gBAGT,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CAFA,CADF,CADF;AAqBH,CA3DD;;AA6DA,MAAMC,eAAe,GAAGL,wBAAwB,CAAC;AAC/CI,EAAAA,WAAW,EAAEH;AADkC,CAAD,CAAhD;;AAIA,MAAMK,kBAAkB,GAAGC,QAAQ,KAAK;AACtCL,EAAAA,gBAAgB,EAAE,MAAMK,QAAQ,CAACL,gBAAgB,EAAjB;AADM,CAAL,CAAnC;;AAIA,eAAeH,OAAO,CAACM,eAAD,EAAkBC,kBAAlB,CAAP,CAA6CH,GAA7C,CAAf","sourcesContent":["import React, {useEffect} from 'react';\nimport './App.css';\nimport { Switch, Route, BrowserRouter, Redirect } from 'react-router-dom';\n\nimport ShopPage from './pages/shop/shop.component';\nimport  CheckoutPage  from \"./pages/checkout/checkout.component\";\nimport HomePage from './pages/homepage/homepage.component'\n\nimport  Header  from './components/header/header.compoenets';\nimport SignInAndSignUp from './pages/sign-in-and-sign-up/sign-in-and-sign-up.component';\n\n\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from \"reselect\";\nimport { selectCurrentUser } from \"./redux/user/user.selectors\";\nimport { checkUserSession } from \"./redux/user/user.actions\";\n\nconst App = ({currentUser , checkUserSession}) =>  {\n   \n  //unsubscribeFromAuth = null;\n  \n  useEffect(() => {\n    checkUserSession()\n  }, [checkUserSession])\n\n  // componentDidMount() {\n  //   const {checkUserSession} = this.props;\n  //   checkUserSession();\n\n  //   // this.unsubscribeFromAuth = auth.onAuthStateChanged( async (userAuth) => {\n  //   //   //this.setState({ currentUser: user});\n      \n  //   //   if(userAuth) {\n  //   //     const userRef = await createUserProfileDocument(userAuth);\n \n  //   //     userRef.onSnapshot(snapShot => {\n  //   //       setCurrentUser({\n  //   //         id: snapShot.id,\n  //   //         ...snapShot.data()\n  //   //       })\n  //   //     });\n  //   //   } else {\n  //   //     setCurrentUser( userAuth );\n  //   //   }\n  //   //   // Data to Firebase\n  //   //   // addCollectionAndDocuments('collections', collectionsArray.map(({ title, items }) => ({ title, items })))\n\n  //   // })\n  // }\n\n  // componentWillUnmount() {\n  //   this.unsubscribeFromAuth();\n  // }\n\n\n    return (\n      <div>\n        <BrowserRouter>\n        <Header />\n        <Switch>\n          <Route exact path='/' component={HomePage}/>\n          <Route  path='/shop' component={ShopPage}/>\n          <Route  path='/checkout' component={CheckoutPage}/>\n          <Route  exact path='/signin' render = {() => \n            currentUser ? (\n              <Redirect to='/' />\n            ) : (\n              <SignInAndSignUp />\n            )\n          }/>\n        </Switch>\n        </BrowserRouter>\n      </div>\n    );\n  \n  \n}\n\nconst mapStateToProps = createStructuredSelector({\n  currentUser: selectCurrentUser,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  checkUserSession: () => dispatch(checkUserSession())\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n"]},"metadata":{},"sourceType":"module"}